<!DOCTYPE HTML>
<html>

<head>
	<title>Hielo by TEMPLATED</title>
	<meta charset="utf-8">
	<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
	<link rel="stylesheet" href="assets/css/calculadora-viajes.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script defer
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDdzoq2lq-NbzjAug4H2uVgTGnogG1c2F4&callback=initMap&libraries=places"></script>

</head>

<body>

	<header id="header" class="alt">
		<a href="#menu">Menu</a>
	</header>
	<nav id="menu">
		<ul class="links">
			<li><a href="index.html">Home</a></li>
			<li><a href="generic.html">Generic</a></li>
			<li><a href="elements.html">Elements</a></li>
		</ul>
	</nav>
	<section class="banner full">
		<article><img src="images/greenimg.jpg" alt="" width="1440" height="961">
			<div class="inner">
				<header>
					<h2>Calculadora de Viaje</h2>
				</header>
			</div>
		</article>
	</section>
	<section id="one" class="wrapper style2">

		<button id="agregar-input" onclick="agregar_input()">Agregar un Destino</button>

		<div id="direccion-inputs">
			<input class="direccion" id="primer-direccion" type="text" placeholder="Ingresá una Direccion">

			<input class="direccion" id="segunda-direccion" type="text" placeholder="Ingresá una Direccion">

			<input class="direccion" id="tercera-direccion" type="text" placeholder="Ingresá una Direccion">

			<input class="direccion" id="cuarta-direccion" type="text" placeholder="Ingresá una Direccion">

			<input class="direccion" id="quinta-direccion" type="text" placeholder="Ingresá una Direccion">
		</div>

		<div id="map"></div>
	</section>

	<footer id="footer">
		<div class="container">
			<ul class="icons">
				<li><a href="#" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
			</ul>
		</div>
	</footer>
	<div class="copyright">
		Made by Anibal Porro.
	</div>

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/skel.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>
	<script>
		let map; let directionsService; let directionsRenderer, input_1_ac, input_2_ac, input_3_ac, input_4_ac, input_5_ac;

		function initMap() {

			google.maps.event.addDomListener(window, "load", () => {
				input_1_ac = new google.maps.places.Autocomplete(document.getElementById("primer-direccion"));
				input_2_ac = new google.maps.places.Autocomplete(document.getElementById("segunda-direccion"));
			});

			map = new google.maps.Map(document.getElementById("map"), { center: { lat: 39.7392, lng: -104.9903 }, zoom: 3, });

			directionsService = new google.maps.DirectionsService();
			directionsRenderer = new google.maps.DirectionsRenderer();
			directionsRenderer.setMap(map);
		}

		function agregar_input() { }

		function printPlace() {
			let i1 = input_1_ac.getPlace().geometry.location;
			let i2 = input_2_ac.getPlace().geometry.location;
			console.log(i1.lng());
			console.log(i1.lat());
			console.log(i2.lng());
			console.log(i2.lat());
		}

		function calcular_distancia() {
			let i1 = input_1_ac.getPlace().geometry.location;
			let i2 = input_2_ac.getPlace().geometry.location;

			const waypoints = [
				{
					location: new google.maps.LatLng(i1.lat(), i1.lng()),
					stopover: true
				},
				{
					location: new google.maps.LatLng(i2.lat(), i2.lng()),
					stopover: true
				}
			];

			const request = {
				origin: waypoints[0].location,
				destination: waypoints[waypoints.length - 1].location,
				waypoints: waypoints.slice(1, -1),
				optimizeWaypoints: true,
				travelMode: google.maps.TravelMode.DRIVING,
			};

			directionsService.route(request, function (response, status) {
				if (status === google.maps.DirectionsStatus.OK) {
					directionsRenderer.setDirections(response);
				} else { console.error("Directions request failed. Status:", status); }
			});
		}
	</script>
</body>

</html>